database - 특정 기업이나 조직 또는 개인이 필요에 의해 논리적으로 연관된 데이터를 모아 일정한 형태로 저장해 놓은 것
* 통합된 데이터  (중복 데이터 최소화, 데이터 불일치 현상 제거)
* 저장된 데이터 ( file, disk, tape 저장장치에 저장)
* 운영 데이터 (업무를 위한 검색을 할 목적으로 저장된 데이터)
* 공유 데이터
* 내용에 의한 참조
* 실시간 접근성

FileSystem : Application, 프로그래밍 언어에 종속
*데이터를 파일 단위 저장 => 중복=> 데이터 무결성(일관성+정확성)이 결여
*데이터 독립성 유지가 어려움

dbms(Database Management System) : Database 관리 프로그램
*DBMS를 이용해서 데이터를 공유=> 중복 가능성 낮음
* 데이터의 일관성 유지, 
* 데이터의 독립성 유지
* 데이터 복구
* 보안
* 동시성 제어
* 데이터 관리 기능 제공

sql(structured query language) : 표준언어, 구조적 질의 언어, 선언적 언어, 결과 지향적 언어
DML : 데이터 조회, 테이블에 데이터 추가, 수정, 삭제
DDL : 객체를 생성, 변경, 삭제,  
DCL : 권한을 통해서 객체, 데이터에 대한 access, 실행 제어
TCL : 트랜잭션의 일관성과 무결성 보장

Transaction : Unit Of Work
A : 원자성
C : 일관성
I : 고립성(격리성)
D : 영속성

DBMS 의 역사 :  
계층형 DBMS (1:M 참조, 물리적인 pointer)
망형 DBMS (N:M 참조, 물리적인 pointer)
관계형 DBMS (수학의 관계 대수를 이용한 논리적인 참조)
ORDBMS(객체관계형, 사용자 정의 타입 정의, 저장)  *반정형데이터, 비정형 데이터
oracle, ibm db2, postgresql, mysql, maria db, 
bigdata : 정보, 패턴 발견, 예측, 정형+비정형+반정형 데이터, once write, many read 목적
nosql  : :  mongo db, redis, cassandra, big table, hbase, ...

검색 종류 :
Projection : 1 target table로부터 column기준으로 검색 (select ~ from ~)
selection : 1 target table로부터 row기준으로 검색 (select ~ from ~where ~)
join : 2개 이상의 table로부터 동일 속성의 컬럼값이 일치할 때 record를 결합 , 검색


table : 행과 열의 2차원 구조를 가지는 database의 물리적 data저장 기본 객체
column : 속성, 최소 단위 데이터
row : tuple, record, entity instance, 속성값들로 구성(실질적인 데이터)
primary key : 기본키(not null + unique), 각 행을 구분하는 유일한 컬럼에 설정하는 키 
foreign key :  두 테이블의 관계를 맺어주는 키 (자식테이블의 컬럼에 설정)

데이터타입(컬럼타입) :
문자형 데이터타입 - char(~255),  varchar(~65535), tinytext(~255), text(~65535), mediumtext(~15Mbyte), longtext(~4gbyte)
숫자형 데이터타입 - tinyint(1byte), smallint(2byte), mediumint(3byte), int(4byte), bigint(8byte), float(4byte, 부동소수점), double(8byte, 부동소수점) , decimal(고정 소수형 데이터 타입)
날짜형 데이터타입 - date, time, datetime, timestamp, year
binary(이진) - binary, varbinary, tinyblob, blob, mediumblob, longblob(~4Gbyte)


select 조회하고싶은 컬럼리스트
[from 조회할 테이블]
[where 조회 조건]
[order by 조회결과를 정렬할 컬럼 정렬방식(asc|desc)]

where 조건에 사용되는 연산자  :
비교연산자  <, >=, <, <=, !=, <>
논리연산자  not , and, or
범위 연산자  [not] between 하한값 and  상한값
in list 연산자  : [not] in (값, 값, 값,...)
character pattern matching : [not] like  , %, _
null 비교 연산자 :  is null,  is not null


#####################################################################################
Quiz> SELECT empno, ename, job, deptno, sal, hiredate
         FROM EMP
         ORDER BY  hiredate;  ---select절에 선언되지 않은 컬럼으로 정렬 가능

SELECT ename, sal  
 FROM EMP
 ORDER BY  sal   desc
#급여가 높은 사원 3명만 검색
SELECT ename, sal  
           FROM EMP
          ORDER BY  sal   desc
          limit 3;   

#급여가 높은 사원 3명만 검색 (4위 ~6위)
SELECT ename, sal  
           FROM EMP
          ORDER BY  sal   desc
          limit 3, 3;   -- limit 시작위치(0부터 시작), 개수,  limit 개수 offset 시작


SELECT ename, sal  
FROM EMP
ORDER BY  sal   desc
limit 5 offset 5; 

dev.mysql.com/doc/refman/8.0/en/functions.html################################### 
sql은 내장 함수를 사용하여 데이터를 더 powerful하게 처리 가능
* 데이터의 계산 수행
* 개별 데이터의 항목 수정
* 컬럼값 변환
* format 형식 변환
* 중첩 사용 가능
* select절, where절, order by절에 사용 가능
* 반드시 1개의 값을 반환

single row function(단일행 함수)  :  숫자 관련 함수, 문자 관련 함수 , 제어흐름(논리 관련) 함수, 날짜 관련 함수 ,
mulitple row function(복수행 함수) :  group 함수, 집계함수
 
################character function#######################################
select length('korea'), length('대한민국')      
 
select upper('korea'),   lower('KOREA');

select substr('hello world', 7) , substr('hello world', 3, 5),      substr('hello world', -5, 3) ;

select instr('hello world', 'e'), instr('hello world', 'o' ),       instr('hello world', 't' ) 

select  length('   hello   '), length(trim('   hello   '));

select 12345.67 , lpad(12345.67 , 10, '$'), rpad(12345.67 , 10, '*');

select sal, rpad(sal, 10, '*'), lpad(sal, 10, '*')  from emp;

SELECT LTRIM('    <=====>BROWNING<=====>' ) "LTRIM Example" ;

SELECT RTRIM('<=====>BROWNING<=====>     ') "RTRIM Example"  ;

select ascii('a'), char(65) ;

# REPLACE(char, search_string, replace_string) 
select replace('Jack and Jue' , 'J', 'Bl')  ;

SELECT   ename, REPLACE(ENAME,'SC', '*?')  
FROM   emp   WHERE  deptno = 20; 
 
문>EMP 테이블에서 이름의 첫글자가 'K' 보다 크고 'Y' 보다 작은 사원의 
사원번호, 이름, 업무, 급여, 부서번호를 조회한다. 결과는 이름순으로 정렬하여라. 
 SELECT empno, ename, job, sal, deptno    
FROM emp   
WHERE SUBSTR(ename, 1, 1) > 'K' AND  SUBSTR(ename, 1, 1) < 'Y'     
ORDER BY ename; 


number function : https://dev.mysql.com/doc/refman/8.0/en/numeric-functions.html #########
round
trunc
mod
floor
ceil
sign
power

select round(123.456, 2), round(123.456, 0), round(123.456, -2)
from dual;  --반올림

select trunc(123.456, 2), trunc(123.456), trunc(123.456, -2)
from dual; --절삭

select ceil(123.456), floor(123.456), mod(100, 7)
from dual;

SELECT  POWER( 2, 10) ,   CEIL (3.7)  ,  FLOOR (3.7) 
from dual;
 
문> emp테이블에서 사번이 홀수인 사원만 검색
